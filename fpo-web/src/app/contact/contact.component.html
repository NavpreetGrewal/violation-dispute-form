<div class="row mt-4 mt-md-5">
  <div class="col-lg-8" id="feedback">

    <h2 tabindex="-1">Give Feedback for "Choose How to Attend Your Traffic Hearing"</h2>

    <p>If you have already submitted your Traffic Hearing choice and you want to change it, call the Violation Ticket Center at 1-877-661-8026.</p>

    <div class="alert alert-success alert-dismissible" id="alert-success" role="alert" tabindex="0" *ngIf="sent">
      <h3 class="h5 my-0">Feedback Sent</h3>
      Thank you, your feedback has been submitted.
      <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="sent=false">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="alert alert-warning alert-dismissible" id="alert-required" role="alert" tabindex="0"
      *ngIf="feedback.invalid">
      <h3 class="h5 my-0">Required Field(s)</h3>
      One or more fields are missing from the feedback form.
      <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="feedback.invalid=false">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="alert alert-danger alert-dismissible" id="alert-error" role="alert" tabindex="0" *ngIf="failed">
      <h3 class="h5 my-0">Error sending feedback</h3>
      Your request could not be completed at this time, try again later.
      <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="failed=false">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="row form-group mt-2">
      <div class="col">
        <label class="control-label mb-0">Type of Feedback</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="reason" value="problem" id="reason_problem" required
            [(ngModel)]="feedback.reason">
          <label class="form-check-label" for="reason_problem">Report a problem with this service</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="reason" value="positive" id="reason_positive" required
            [(ngModel)]="feedback.reason">
          <label class="form-check-label" for="reason_positive">Give positive feedback for this service</label>
        </div>
      </div>
    </div>

    <div class="row form-group">
      <div class="col">
        <label class="control-label mb-0">Name</label>
        <input class="form-control" size="30" name="from_name" type="text" required [(ngModel)]="feedback.from_name">
      </div>
    </div>

    <div class="row form-group">
      <div class="col">
        <label class="control-label mb-0">Email address</label>
        <input class="form-control" size="30" name="from_email" type="email" required [(ngModel)]="feedback.from_email">
      </div>
    </div>

    <div class="row form-group">
      <div class="col">
        <label class="control-label mb-0">Feedback</label>
        <textarea class="form-control" name="comments" rows="6" cols="40" [(ngModel)]="feedback.comments"></textarea>
      </div>
    </div>

    <div class="row form-group">
      <div class="col">
        <re-captcha *ngIf="recaptchaKey" name="captcha" (resolved)="resolvedCaptcha($event)"
          [siteKey]="recaptchaKey"></re-captcha>
      </div>
    </div>

    <div class="row form-group">
      <div class="col text-left">
        <button type="submit" class="btn btn-bcgold" (click)="sendFeedback($event)" [ngClass]="{loading: sending}"
          [disabled]="sending || !canSend">
          <span class="fa fa-paper-plane left"></span> Send Feedback
        </button>
      </div>
    </div>
  </div>
